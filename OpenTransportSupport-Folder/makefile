# $Log: makefile,v $# Revision 1.2  2003/10/12 22:43:24  gtbyers# Don't use legacy shared/stub libraries## 06/13/01 akh use carbonlib, add OpenTransportExtnPPC.o - should probably change version# 03/13/97 gb   bump version to 2.2# 02/16/96 gb   maintain -some- version numbering, generate 'vers' resource.# 11/06/96 gb   add StdClib to stublibs; pass "-d" to ppclink to suppress#               dup symbol warning (XTI library defines "errno".  Wrong!)all Ä OpenTransportSupportstaticlibs = stublibs = {sharedlibraries}CarbonLib ¶		{sharedlibraries}StdCLibobjects =	notifier.oall Ä installMAJOR = 2MINOR = 2# This assumes that the MPW Shell variable "ccl" points# to MCL's "ccl:" directoryinstall Ä OpenTransportSupport  duplicate -y OpenTransportSupport "{ccl}"# Make an intermediary .xcoff binary, use it to generate a .xSYM file,# make a pef binary, and nuke the .xcoff file.OpenTransportSupport Ä OpenTransportSupport.proj.exp {objects}  ppclink -d -sym on -outputformat xcoff -xm sharedlibrary -@export OpenTransportSupport.proj.exp ¶	{objects} {staticlibs} {stublibs} -o {targ}.xcoff -t shlb -c cfrg  makesym -w -sym on,3.2 -o {targ}.xSYM {targ}.xcoff  makepef -o {targ} {targ}.xcoff -ft shlb -fc cfrg   mergefragment -x -c -n "{targ}" {targ}  delete {targ}.xcoff  setversion -t vers -i 1 -verstring "OpenTransportSupport library version ^" -version "{MAJOR}.{MINOR}" OpenTransportSupport# This assumes the use of Apple's MrC compilerCC = MrCCFLAGS = -sym on  -d MAJOR={MAJOR} -d MINOR={MINOR}.o Ä .c  {cc} {CFLAGS} -o {default}.o {default}.cclean Ä  delete -i OpenTransportSupport OpenTransportSupport.xcoff OpenTransportSupport.xSYM {objects}